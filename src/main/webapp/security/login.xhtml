<?xml version="1.0" encoding="UTF-8"?>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:f="http://xmlns.jcp.org/jsf/core">
<h:head>
	<title>Acceso al sistema</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<h:outputStylesheet library="css" name="login.css" />
</h:head>
<h:body>
	<div class="container">
		<h:form id="frmLogin">
			<p:growl id="msg" showDetail="true" life="4000" />
				<div class="login-container">
					<div id="output"></div>
					<h:graphicImage library="images" name="sat.png" />
					<div class="form-box">
						<p:inputText value="#{loginBean.usuario.codigo}" id="username"
							required="true" placeholder="Usuario" style="font-size: 1em;" />
						<p:password value="#{loginBean.usuario.clave}" id="password"
							required="true" placeholder="Clave" style="font-size: 1em;" />
						<p:commandButton id="loginButton" icon="ui-icon-key"
							value="Iniciar SesiÃ³n" actionListener="#{loginBean.login(event)}"
							update="frmLogin"
							oncomplete="handleLoginRequest(xhr, status, args);"
							styleClass="login" />
					</div>
				</div>
		</h:form>
	</div>
	<script type="text/javascript">
      function handleLoginRequest(xhr, status, args) {
        if (args.validationFailed || !args.loggedIn) {
          jQuery('#frmLogin').effect('shake', {times: 3}, 350);
        } else {
          location.href = args.ruta;
        }
      }
    </script>
</h:body>

</html>
